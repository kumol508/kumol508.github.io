<head>
  <title>CCTV Map London</title>
  <meta charset='utf-8' />
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,300i,400,400i,500,500i" rel="stylesheet">
  <link href="test.css" rel="stylesheet" type="text/css" />
</head>

<div class="wrapper">
  <header class="header">
    CCTV Map London
  </header>
  <article class="main">
    <div>
      <div id='map'></div>
    </div>
  </article>
  <aside class="aside aside-1">
    About project... <br>
    Articles and info
  </aside>
  <footer class="footer">
    Comments
  </footer>
  
  
  
  <script>

mapboxgl.accessToken = 'pk.eyJ1IjoibGttYXAiLCJhIjoiY2plYWJ2ZDdpMDBrcTJ3cWhmeHJ1aGpjMyJ9.J4vdBRHu_bMYfyIsNn07yw';

var map = new mapboxgl.Map({
  container: 'map',
  style: 'mapbox://styles/lkmap/cjeac4svy2jhk2rqf6llfah25',
  center: [-0.126529, 51.505838],
  zoom: 12.36
});

// points

var geojson = {
  
  type: 'FeatureCollection',
  features: [{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.120911, 51.53172]
    },
    properties: {
      title: 'Caledonian R/Caledonian S',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.09630.mp4>View the video stream for Caledonian R/Caledonian S camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.09630.mp4',
      url:'images/layers-2x.png'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.122459, 51.530757]
    },
    properties: {
      title: 'Euston Rd/Grays Inn Rd',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07356.mp4>View the video stream for Euston Rd/Grays Inn Rd camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07356.mp4',
      url:'image.jpg'
    }
  },

{
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.126308, 51.529105]
    },
    properties: {
      title: 'A501 West of Judd Street',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07357.mp4>View the video stream for A501 West of Judd Street camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07357.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.116447, 51.536894]
    },
    properties: {
      title: 'Caledonian R/Copnhagen S',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.09631.mp4>View the video stream for Caledonian R/Copnhagen S camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.09631.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.126308, 51.529105]
    },
    properties: {
      title: 'A501 West of Judd Street',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07357.mp4>View the video stream for A501 West of Judd Street camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07357.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.127960, 51.528336]
    },
    properties: {
      title: 'A501 W of Mabledon Place',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07358.mp4>View the video stream for A501 W of Mabledon Place camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07358.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.114076, 51.531450]
    },
    properties: {
      title: 'Pentonville Road / Penton Rise',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07355.mp4>View the video stream for Pentonville Road / Penton Rise camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07355.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.115741, 51.529446]
    },
    properties: {
      title: 'Kings X Rd/Swinton St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.03591.mp4>View the video stream for Kings X Rd/Swinton St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.03591.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.119080, 51.528291]
    },
    properties: {
      title: 'Grays Inn Rd/Acton St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07640.mp4>View the video stream for Grays Inn Rd/Acton St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07640.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.115325, 51.527741]
    },
    properties: {
      title: 'Kings X Rd/Wharton St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07590.mp4>View the video stream for Kings X Rd/Wharton St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07590.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.129659, 51.526458]
    },
    properties: {
      title: 'Upper Woburn Place - Woburn Walk',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07359.mp4>View the video stream for Upper Woburn Place - Woburn Walk camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07359.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.133705, 51.526471]
    },
    properties: {
      title: 'A501 East of Melton St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07360.mp4>View the video stream for A501 East of Melton St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07360.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.125804, 51.522916]
    },
    properties: {
      title: 'A4200 Woodburn Pl/Russle Sq',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07382.mp4>View the video stream for A4200 Woodburn Pl/Russle Sq camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07382.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.134202, 51.524011]
    },
    properties: {
      title: 'University St/Gower St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07389.mp4>View the video stream for University St/Gower St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07389.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.137278, 51.523910]
    },
    properties: {
      title: 'Tottenham Court Rd/Grafton Way',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07390.mp4>View the video stream for Tottenham Court Rd/Grafton Way camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07390.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.138531, 51.524916]
    },
    properties: {
      title: 'Euston Rd/Tottenham Court Rd',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07361.mp4>View the video stream for Euston Rd/Tottenham Court Rd camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07361.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.140575, 51.524313]
    },
    properties: {
      title: 'Euston Rd/Conway St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07387.mp4>View the video stream for Euston Rd/Conway St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07387.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.138558, 51.526675]
    },
    properties: {
      title: 'H. Stead Rd/Drummond St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07552.mp4>View the video stream for H. Stead Rd/Drummond St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07552.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.138496, 51.529468]
    },
    properties: {
      title: 'H. Stead Rd/Cardington St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07553.mp4>View the video stream for H. Stead Rd/Cardington St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07553.mp4',
      url:'image.jpg'
    }
  },
  
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.143498, 51.524093]
    },
    properties: {
      title: 'Marylebone Rd/Osnaburgh St',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07364.mp4>View the video stream for Marylebone Rd/Osnaburgh St camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07364.mp4',
      url:'image.jpg'
    }
  },
  
    {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-0.144473, 51.523953]
    },
    properties: {
      title: 'Marylebone Rd/Great Portland Street',
      feed: '<a href=https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07391.mp4>View the video stream for Marylebone Rd/Great Portland Street camera</a>',
      description: 'https://s3-eu-west-1.amazonaws.com/jamcams.tfl.gov.uk/00001.07391.mp4',
      url:'image.jpg'
    }
  }
  
  ]
};







// add markers to map
geojson.features.forEach(function(marker) {

  // create a HTML element for each feature
  var el = document.createElement('div');
  el.className = 'marker';

  // make a marker for each feature and add to the map
  new mapboxgl.Marker(el)
  .setLngLat(marker.geometry.coordinates)
  .setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups
  .setHTML('<h3>' + marker.properties.title + '</h3> <p>' + marker.properties.feed + '</p><video src=' + marker.properties.description + '></video> <img src=' + marker.properties.url + '>'))
  .addTo(map);
});



</script>
</div>